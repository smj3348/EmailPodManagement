{% extends "base.html" %}
{% block title %}Pods | Outbound Operations{% endblock %}

{% block content %}
<h2>Pods</h2>

<form method="get" class="filter-bar" style="margin-bottom: 1rem;">
    <input type="text"
           name="q"
           placeholder="Search pods by name/purpose/notes..."
           value="{{ q }}"
           style="padding: 0.4rem 0.6rem; min-width: 260px;">

    <input type="text"
           name="provider"
           placeholder="Provider filter (optional)"
           value="{{ provider }}"
           style="padding: 0.4rem 0.6rem; margin-left: 0.5rem;">

    <button type="submit" style="padding: 0.4rem 0.9rem; margin-left: 0.5rem;">
        Filter
    </button>
</form>

{% if pods %}
    <div class="dash-grid">
        {% for p in pods %}
            <section class="dash-card">
                <h3>{{ p.name }}</h3>
                <p>
                    {% if p.provider %}<strong>Provider:</strong> {{ p.provider }}<br>{% endif %}
                    {% if p.purpose %}<strong>Purpose:</strong> {{ p.purpose }}<br>{% endif %}
                    <strong>Devices:</strong> {{ p.device_count }}
                </p>
                <p>
                    <a href="{% url 'pod_detail' slug=p.slug %}">View pod →</a>
                </p>
            </section>
        {% endfor %}
    </div>
{% else %}
    <p>No pods yet. Create one in Admin → Pods, then assign devices to it.</p>
{% endif %}
{% endblock %}
